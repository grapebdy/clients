#!/usr/bin/nodejs
var app = require("../clients");
var args = process.argv.splice(2);

global.config = {"netdev": args[0], "serverip": args[1], "port": args[2]};

function check_param(config, callback) {
	if (global.config.netdev != undefined) {
		callback(null, null);
	} else {
		callback("undefined", "netdev");
	}

	if (global.config.serverip != undefined) {
		callback(null, null);
	} else {
		callback("undefined", "serverip");
	}

	if (global.config.port != undefined) {
		callback(null, null);
	} else {
		callback("undefined", "port");
	}
}

check_param(global.config, function (err, data) {
	if (err) {
		console.log("node bin/start netdev serverip port or bin/start netdev serverip port");
	} else {
		console.log("param: ");
		console.log(args);
		app.main();
	}
});
